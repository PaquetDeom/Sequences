CREATE TABLE ACTIVITE (ID INTEGER NOT NULL, INTITULE VARCHAR(140), FONCTION_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE CAPACITE (ID INTEGER NOT NULL, CODE VARCHAR(20), INTITULE VARCHAR(200), REFERENTIEL_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE COMPETENCE (ID INTEGER NOT NULL, CODE INTEGER, INTITULE VARCHAR(200), TRANSVERSAL BOOLEAN, CAP_ID INTEGER, UNITE_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE COMPETENCE_INTERMEDIAIRE (ID INTEGER NOT NULL, CODE INTEGER, INTITULE VARCHAR(400), COMP_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE CONDITION (ID INTEGER NOT NULL, CONDITION VARCHAR(300), PRIMARY KEY (ID))
CREATE TABLE CRITERE_EVALUATION (ID INTEGER NOT NULL, CRITERE VARCHAR(300), PRIMARY KEY (ID))
CREATE TABLE FONCTION (ID INTEGER NOT NULL, INTITULE VARCHAR(140), RAP_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE RAP (ID INTEGER NOT NULL, REFERENTIEL_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE REFERENTIEL (ID INTEGER NOT NULL, REREUR VARCHAR(300), REDIID INTEGER, PRIMARY KEY (ID))
CREATE TABLE SAVOIR (ID INTEGER NOT NULL, CODE VARCHAR(20), INTITULE VARCHAR(200), REFERENTIEL_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE SAVOIR_ASSOCIE (ID INTEGER NOT NULL, CODE INTEGER, INTITULE VARCHAR(200), SAV_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE SOUS_SAVOIR_ASSOCIE (ID INTEGER NOT NULL, CODE INTEGER, INTITULE VARCHAR(255), NIVEAU INTEGER, SAVASS_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE TACHE (ID INTEGER NOT NULL, CODE VARCHAR(10), INTITULE VARCHAR(200), NIVEAU INTEGER, TYPE_RESPONSABILITE VARCHAR(10), ACTIVITE_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE UNITE (ID INTEGER NOT NULL, CODE INTEGER, INTITULE VARCHAR(200), REF_ID INTEGER, PRIMARY KEY (ID))
CREATE TABLE DIPLOME (ID INTEGER NOT NULL, DIPLOME VARCHAR(50), TYPE VARCHAR(10), PRIMARY KEY (ID))
CREATE TABLE COMPETENCE_CONDITION (Competence_ID INTEGER NOT NULL, conditions_ID INTEGER NOT NULL, PRIMARY KEY (Competence_ID, conditions_ID))
CREATE TABLE COMPETENCE_CRITERE_EVALUATION (Competence_ID INTEGER NOT NULL, critereEvaluations_ID INTEGER NOT NULL, PRIMARY KEY (Competence_ID, critereEvaluations_ID))
CREATE TABLE COMPETENCE_SAVOIR (Competence_ID INTEGER NOT NULL, savoirs_ID INTEGER NOT NULL, PRIMARY KEY (Competence_ID, savoirs_ID))
CREATE TABLE COMPETENCE_TACHE (Competence_ID INTEGER NOT NULL, taches_ID INTEGER NOT NULL, PRIMARY KEY (Competence_ID, taches_ID))
CREATE TABLE COMPETENCE_INTERMEDIAIRE_CONDITION (CompetenceIntermediaire_ID INTEGER NOT NULL, conditions_ID INTEGER NOT NULL, PRIMARY KEY (CompetenceIntermediaire_ID, conditions_ID))
CREATE TABLE COMPETENCE_INTERMEDIAIRE_CRITERE_EVALUATION (CompetenceIntermediaire_ID INTEGER NOT NULL, critereEvaluations_ID INTEGER NOT NULL, PRIMARY KEY (CompetenceIntermediaire_ID, critereEvaluations_ID))
CREATE TABLE REFERENTIEL_UNITE (Referentiel_ID INTEGER NOT NULL, unites_ID INTEGER NOT NULL, PRIMARY KEY (Referentiel_ID, unites_ID))
CREATE TABLE SAVOIR_COMPETENCE (Savoir_ID INTEGER NOT NULL, competences_ID INTEGER NOT NULL, PRIMARY KEY (Savoir_ID, competences_ID))
CREATE TABLE TACHE_COMPETENCE (Tache_ID INTEGER NOT NULL, competences_ID INTEGER NOT NULL, PRIMARY KEY (Tache_ID, competences_ID))
ALTER TABLE ACTIVITE ADD CONSTRAINT FK_ACTIVITE_FONCTION_ID FOREIGN KEY (FONCTION_ID) REFERENCES FONCTION (ID)
ALTER TABLE CAPACITE ADD CONSTRAINT FK_CAPACITE_REFERENTIEL_ID FOREIGN KEY (REFERENTIEL_ID) REFERENCES REFERENTIEL (ID)
ALTER TABLE COMPETENCE ADD CONSTRAINT FK_COMPETENCE_CAP_ID FOREIGN KEY (CAP_ID) REFERENCES CAPACITE (ID)
ALTER TABLE COMPETENCE ADD CONSTRAINT FK_COMPETENCE_UNITE_ID FOREIGN KEY (UNITE_ID) REFERENCES UNITE (ID)
ALTER TABLE COMPETENCE_INTERMEDIAIRE ADD CONSTRAINT FK_COMPETENCE_INTERMEDIAIRE_COMP_ID FOREIGN KEY (COMP_ID) REFERENCES COMPETENCE (ID)
ALTER TABLE FONCTION ADD CONSTRAINT FK_FONCTION_RAP_ID FOREIGN KEY (RAP_ID) REFERENCES RAP (ID)
ALTER TABLE RAP ADD CONSTRAINT FK_RAP_REFERENTIEL_ID FOREIGN KEY (REFERENTIEL_ID) REFERENCES REFERENTIEL (ID)
ALTER TABLE REFERENTIEL ADD CONSTRAINT FK_REFERENTIEL_REDIID FOREIGN KEY (REDIID) REFERENCES DIPLOME (ID)
ALTER TABLE SAVOIR ADD CONSTRAINT FK_SAVOIR_REFERENTIEL_ID FOREIGN KEY (REFERENTIEL_ID) REFERENCES REFERENTIEL (ID)
ALTER TABLE SAVOIR_ASSOCIE ADD CONSTRAINT FK_SAVOIR_ASSOCIE_SAV_ID FOREIGN KEY (SAV_ID) REFERENCES SAVOIR (ID)
ALTER TABLE SOUS_SAVOIR_ASSOCIE ADD CONSTRAINT FK_SOUS_SAVOIR_ASSOCIE_SAVASS_ID FOREIGN KEY (SAVASS_ID) REFERENCES SAVOIR_ASSOCIE (ID)
ALTER TABLE TACHE ADD CONSTRAINT FK_TACHE_ACTIVITE_ID FOREIGN KEY (ACTIVITE_ID) REFERENCES ACTIVITE (ID)
ALTER TABLE UNITE ADD CONSTRAINT FK_UNITE_REF_ID FOREIGN KEY (REF_ID) REFERENCES REFERENTIEL (ID)
ALTER TABLE COMPETENCE_CONDITION ADD CONSTRAINT FK_COMPETENCE_CONDITION_Competence_ID FOREIGN KEY (Competence_ID) REFERENCES COMPETENCE (ID)
ALTER TABLE COMPETENCE_CONDITION ADD CONSTRAINT FK_COMPETENCE_CONDITION_conditions_ID FOREIGN KEY (conditions_ID) REFERENCES CONDITION (ID)
ALTER TABLE COMPETENCE_CRITERE_EVALUATION ADD CONSTRAINT FK_COMPETENCE_CRITERE_EVALUATION_critereEvaluations_ID FOREIGN KEY (critereEvaluations_ID) REFERENCES CRITERE_EVALUATION (ID)
ALTER TABLE COMPETENCE_CRITERE_EVALUATION ADD CONSTRAINT FK_COMPETENCE_CRITERE_EVALUATION_Competence_ID FOREIGN KEY (Competence_ID) REFERENCES COMPETENCE (ID)
ALTER TABLE COMPETENCE_SAVOIR ADD CONSTRAINT FK_COMPETENCE_SAVOIR_Competence_ID FOREIGN KEY (Competence_ID) REFERENCES COMPETENCE (ID)
ALTER TABLE COMPETENCE_SAVOIR ADD CONSTRAINT FK_COMPETENCE_SAVOIR_savoirs_ID FOREIGN KEY (savoirs_ID) REFERENCES SAVOIR (ID)
ALTER TABLE COMPETENCE_TACHE ADD CONSTRAINT FK_COMPETENCE_TACHE_taches_ID FOREIGN KEY (taches_ID) REFERENCES TACHE (ID)
ALTER TABLE COMPETENCE_TACHE ADD CONSTRAINT FK_COMPETENCE_TACHE_Competence_ID FOREIGN KEY (Competence_ID) REFERENCES COMPETENCE (ID)
ALTER TABLE COMPETENCE_INTERMEDIAIRE_CONDITION ADD CONSTRAINT COMPETENCE_INTERMEDIAIRE_CONDITION_CompetenceIntermediaire_ID FOREIGN KEY (CompetenceIntermediaire_ID) REFERENCES COMPETENCE_INTERMEDIAIRE (ID)
ALTER TABLE COMPETENCE_INTERMEDIAIRE_CONDITION ADD CONSTRAINT FK_COMPETENCE_INTERMEDIAIRE_CONDITION_conditions_ID FOREIGN KEY (conditions_ID) REFERENCES CONDITION (ID)
ALTER TABLE COMPETENCE_INTERMEDIAIRE_CRITERE_EVALUATION ADD CONSTRAINT COMPETENCEINTERMEDIAIRE_CRITERE_EVALUATIONcritereEvaluations_ID FOREIGN KEY (critereEvaluations_ID) REFERENCES CRITERE_EVALUATION (ID)
ALTER TABLE COMPETENCE_INTERMEDIAIRE_CRITERE_EVALUATION ADD CONSTRAINT CMPETENCEINTERMEDIAIRECRITEREEVALUATIONCmpetenceIntermediaireID FOREIGN KEY (CompetenceIntermediaire_ID) REFERENCES COMPETENCE_INTERMEDIAIRE (ID)
ALTER TABLE REFERENTIEL_UNITE ADD CONSTRAINT FK_REFERENTIEL_UNITE_Referentiel_ID FOREIGN KEY (Referentiel_ID) REFERENCES REFERENTIEL (ID)
ALTER TABLE REFERENTIEL_UNITE ADD CONSTRAINT FK_REFERENTIEL_UNITE_unites_ID FOREIGN KEY (unites_ID) REFERENCES UNITE (ID)
ALTER TABLE SAVOIR_COMPETENCE ADD CONSTRAINT FK_SAVOIR_COMPETENCE_Savoir_ID FOREIGN KEY (Savoir_ID) REFERENCES SAVOIR (ID)
ALTER TABLE SAVOIR_COMPETENCE ADD CONSTRAINT FK_SAVOIR_COMPETENCE_competences_ID FOREIGN KEY (competences_ID) REFERENCES COMPETENCE (ID)
ALTER TABLE TACHE_COMPETENCE ADD CONSTRAINT FK_TACHE_COMPETENCE_Tache_ID FOREIGN KEY (Tache_ID) REFERENCES TACHE (ID)
ALTER TABLE TACHE_COMPETENCE ADD CONSTRAINT FK_TACHE_COMPETENCE_competences_ID FOREIGN KEY (competences_ID) REFERENCES COMPETENCE (ID)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
